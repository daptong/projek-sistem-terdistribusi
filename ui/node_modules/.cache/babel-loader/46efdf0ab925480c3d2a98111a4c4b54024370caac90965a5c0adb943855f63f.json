{"ast":null,"code":"import React,{useState}from'react';import{controlDevice}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function GateControl(_ref){let{device}=_ref;const[busy,setBusy]=useState(false);const[token,setToken]=useState('');const act=async action=>{setBusy(true);try{const params=action==='open'?{auth_token:token}:{};await controlDevice(device.id,device.type,action,params);}catch(e){console.error(e);alert('Error sending gate command');}finally{setBusy(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:8,alignItems:'center'},children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"auth token\",value:token,onChange:e=>setToken(e.target.value),style:{padding:6,borderRadius:6,border:'1px solid #ddd'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"device-actions\",style:{marginTop:8},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>act('open'),disabled:busy,children:\"Open Gate\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn secondary\",onClick:()=>act('close'),disabled:busy,children:\"Close Gate\"})]})]});}","map":{"version":3,"names":["React","useState","controlDevice","jsx","_jsx","jsxs","_jsxs","GateControl","_ref","device","busy","setBusy","token","setToken","act","action","params","auth_token","id","type","e","console","error","alert","children","style","display","gap","alignItems","placeholder","value","onChange","target","padding","borderRadius","border","className","marginTop","onClick","disabled"],"sources":["/home/aryo/projek-sistem-terdistribusi/projek-sistem-terdistribusi/ui/src/components/GateControl.jsx"],"sourcesContent":["import React, {useState} from 'react'\nimport { controlDevice } from '../services/api'\n\nexport default function GateControl({device}){\n  const [busy, setBusy] = useState(false)\n  const [token, setToken] = useState('')\n\n  const act = async (action)=>{\n    setBusy(true)\n    try{\n      const params = action === 'open' ? { auth_token: token } : {}\n      await controlDevice(device.id, device.type, action, params)\n    }catch(e){\n      console.error(e)\n      alert('Error sending gate command')\n    }finally{\n      setBusy(false)\n    }\n  }\n\n  return (\n    <div>\n      <div style={{display:'flex',gap:8,alignItems:'center'}}>\n        <input placeholder='auth token' value={token} onChange={e=>setToken(e.target.value)} style={{padding:6,borderRadius:6,border:'1px solid #ddd'}} />\n      </div>\n      <div className='device-actions' style={{marginTop:8}}>\n        <button className='btn' onClick={()=>act('open')} disabled={busy}>Open Gate</button>\n        <button className='btn secondary' onClick={()=>act('close')} disabled={busy}>Close Gate</button>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,OAASC,aAAa,KAAQ,iBAAiB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,cAAe,SAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAU,IAAT,CAACC,MAAM,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CACvC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAa,GAAG,CAAG,KAAO,CAAAC,MAAM,EAAG,CAC1BJ,OAAO,CAAC,IAAI,CAAC,CACb,GAAG,CACD,KAAM,CAAAK,MAAM,CAAGD,MAAM,GAAK,MAAM,CAAG,CAAEE,UAAU,CAAEL,KAAM,CAAC,CAAG,CAAC,CAAC,CAC7D,KAAM,CAAAV,aAAa,CAACO,MAAM,CAACS,EAAE,CAAET,MAAM,CAACU,IAAI,CAAEJ,MAAM,CAAEC,MAAM,CAAC,CAC7D,CAAC,MAAMI,CAAC,CAAC,CACPC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC,CAChBG,KAAK,CAAC,4BAA4B,CAAC,CACrC,CAAC,OAAO,CACNZ,OAAO,CAAC,KAAK,CAAC,CAChB,CACF,CAAC,CAED,mBACEL,KAAA,QAAAkB,QAAA,eACEpB,IAAA,QAAKqB,KAAK,CAAE,CAACC,OAAO,CAAC,MAAM,CAACC,GAAG,CAAC,CAAC,CAACC,UAAU,CAAC,QAAQ,CAAE,CAAAJ,QAAA,cACrDpB,IAAA,UAAOyB,WAAW,CAAC,YAAY,CAACC,KAAK,CAAElB,KAAM,CAACmB,QAAQ,CAAEX,CAAC,EAAEP,QAAQ,CAACO,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE,CAACL,KAAK,CAAE,CAACQ,OAAO,CAAC,CAAC,CAACC,YAAY,CAAC,CAAC,CAACC,MAAM,CAAC,gBAAgB,CAAE,CAAE,CAAC,CAC/I,CAAC,cACN7B,KAAA,QAAK8B,SAAS,CAAC,gBAAgB,CAACX,KAAK,CAAE,CAACY,SAAS,CAAC,CAAC,CAAE,CAAAb,QAAA,eACnDpB,IAAA,WAAQgC,SAAS,CAAC,KAAK,CAACE,OAAO,CAAEA,CAAA,GAAIxB,GAAG,CAAC,MAAM,CAAE,CAACyB,QAAQ,CAAE7B,IAAK,CAAAc,QAAA,CAAC,WAAS,CAAQ,CAAC,cACpFpB,IAAA,WAAQgC,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEA,CAAA,GAAIxB,GAAG,CAAC,OAAO,CAAE,CAACyB,QAAQ,CAAE7B,IAAK,CAAAc,QAAA,CAAC,YAAU,CAAQ,CAAC,EAC7F,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}